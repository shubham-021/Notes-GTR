---
title: Type Guards
description: Narrowing types with type guards in TypeScript
---

# Type Guards

Type guards help you narrow down types within conditional blocks.

## typeof Guard

```typescript
function padLeft(value: string, padding: string | number): string {
    if (typeof padding === "number") {
        return " ".repeat(padding) + value;
    }
    return padding + value;
}
```

## instanceof Guard

```typescript
class Dog {
    bark() { console.log("Woof!"); }
}

class Cat {
    meow() { console.log("Meow!"); }
}

function speak(animal: Dog | Cat): void {
    if (animal instanceof Dog) {
        animal.bark();
    } else {
        animal.meow();
    }
}
```

## in Operator

```typescript
interface Fish {
    swim(): void;
}

interface Bird {
    fly(): void;
}

function move(animal: Fish | Bird): void {
    if ("swim" in animal) {
        animal.swim();
    } else {
        animal.fly();
    }
}
```

## Custom Type Guards

Create your own type guard functions using `is`:

```typescript
interface Cat {
    meow(): void;
}

interface Dog {
    bark(): void;
}

function isCat(animal: Cat | Dog): animal is Cat {
    return (animal as Cat).meow !== undefined;
}

function speak(animal: Cat | Dog): void {
    if (isCat(animal)) {
        animal.meow();  // TypeScript knows this is a Cat
    } else {
        animal.bark();  // TypeScript knows this is a Dog
    }
}
```

The `animal is Cat` return type tells TypeScript this function is a type guard.

## Assertion Functions

```typescript
function assertIsString(value: unknown): asserts value is string {
    if (typeof value !== "string") {
        throw new Error("Value must be a string");
    }
}

function processValue(value: unknown): void {
    assertIsString(value);
    console.log(value.toUpperCase());  // TypeScript knows value is string
}
```

## Type Guard Summary

| Guard Type | Use Case |
|------------|----------|
| `typeof` | Primitives (string, number, boolean) |
| `instanceof` | Class instances |
| `in` | Property existence |
| Custom (`is`) | Complex type checking |
| Assertion (`asserts`) | Throw on invalid type |
